<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width,initial-scale=1,viewport-fit=cover"
    />
    <title>AgriVerse</title>

    <!-- Tailwind output -->
    <link href="./src/output.css" rel="stylesheet" />

    <!-- Inter font -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap"
      rel="stylesheet"
    />

    <style>
      :root {
        --agri-green: #16a34a; /* primary */
        --agri-dark: #062e16; /* deep green/near-black */
        --agri-soft: #bbf7d0; /* soft green */
        --glass: rgba(255, 255, 255, 0.06);
      }

      /* page font fallback */
      body,
      .font-sans {
        font-family: "Inter", ui-sans-serif, system-ui, -apple-system,
          "Segoe UI", Roboto, "Helvetica Neue", Arial;
      }

      /* ------------- PRELOADER ------------- */
      #preloader {
        position: fixed;
        inset: 0;
        z-index: 99999;
        display: flex;
        align-items: center;
        justify-content: center;
        background: radial-gradient(
            1200px 600px at 10% 20%,
            rgba(22, 163, 74, 0.12),
            transparent 10%
          ),
          linear-gradient(
            180deg,
            #042814 0%,
            rgba(6, 46, 22, 0.98) 30%,
            #03120a 100%
          );
        color: white;
        -webkit-tap-highlight-color: transparent;
        overflow: hidden;
      }

      /* container inside preloader */
      .preloader-wrap {
        display: flex;
        align-items: center;
        gap: 28px;
        flex-direction: column;
        text-align: center;
        padding: 18px;
      }

      /* AgriVerse cinematic text container */
      .agri-title {
        font-weight: 800;
        font-size: clamp(28px, 6vw, 56px);
        letter-spacing: 0.18em;
        color: white;
        line-height: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 12px;
      }

      /* each char styling */
      .agri-title .char {
        display: inline-block;
        opacity: 0;
        transform: translateY(12px) scale(0.98);
        filter: drop-shadow(0 8px 28px rgba(0, 0, 0, 0.6));
      }

      /* neon glow */
      .agri-title .char.glow {
        color: var(--agri-soft);
        text-shadow: 0 2px 0 rgba(255, 255, 255, 0.06),
          0 8px 30px rgba(22, 163, 74, 0.18), 0 2px 8px rgba(22, 163, 74, 0.12);
      }

      /* typing animation: staggered via JS */
      .agri-title.show .char {
        animation: appear 700ms cubic-bezier(0.2, 0.9, 0.15, 1) forwards;
      }
      @keyframes appear {
        from {
          opacity: 0;
          transform: translateY(12px) scale(0.98);
        }
        to {
          opacity: 1;
          transform: translateY(0) scale(1);
        }
      }

      /* subtle logo / leaf icon */
      .leaf {
        width: 36px;
        height: 36px;
        display: inline-block;
        transform-origin: center;
        opacity: 0;
        transform: translateY(-6px) scale(0.9);
      }
      .agri-title.show .leaf {
        animation: leafIn 700ms ease forwards;
        animation-delay: 0.45s;
      }
      @keyframes leafIn {
        to {
          opacity: 1;
          transform: translateY(0) scale(1);
        }
      }

      /* circular spinner ring behind title */
      .ring {
        position: absolute;
        width: 240px;
        height: 240px;
        border-radius: 9999px;
        border: 1px solid rgba(255, 255, 255, 0.03);
        box-shadow: 0 30px 80px rgba(4, 20, 10, 0.6),
          inset 0 1px 0 rgba(255, 255, 255, 0.02);
        animation: slow-rotate 12s linear infinite;
        pointer-events: none;
      }
      @keyframes slow-rotate {
        to {
          transform: rotate(360deg);
        }
      }

      /* subtle pulse leaf */
      .leaf-pulse {
        width: 120px;
        height: 120px;
        border-radius: 9999px;
        background: radial-gradient(
            circle at 30% 30%,
            rgba(22, 163, 74, 0.06),
            transparent
          ),
          radial-gradient(
            circle at 70% 70%,
            rgba(255, 255, 255, 0.02),
            transparent
          );
        position: absolute;
        z-index: 0;
        filter: blur(18px);
        opacity: 0.9;
        animation: pulse 2.6s ease-in-out infinite;
      }
      @keyframes pulse {
        0% {
          transform: scale(0.96);
          opacity: 0.86;
        }
        50% {
          transform: scale(1.06);
          opacity: 1;
        }
        100% {
          transform: scale(0.98);
          opacity: 0.9;
        }
      }

      /* spinner small */
      .preloader-spinner {
        margin-top: 14px;
        width: 44px;
        height: 44px;
        border-radius: 9999px;
        border: 4px solid rgba(255, 255, 255, 0.06);
        border-top-color: var(--agri-soft);
        animation: spin 900ms linear infinite;
      }

      /* fade out animation for hide */
      .preloader-hidden {
        opacity: 0;
        visibility: hidden;
        pointer-events: none;
        transition: opacity 700ms cubic-bezier(0.2, 0.9, 0.15, 1),
          visibility 700ms;
      }

      /* Respect prefers-reduced-motion */
      @media (prefers-reduced-motion: reduce) {
        .agri-title .char,
        .ring,
        .leaf-pulse,
        .preloader-spinner {
          animation: none !important;
        }
      }

      /* ------------- Page reveal transition ------------- */
      .page-reveal {
        opacity: 0;
        transform: translateY(10px) scale(0.995);
        transition: opacity 550ms ease, transform 550ms ease;
      }
      .page-reveal.show {
        opacity: 1;
        transform: translateY(0) scale(1);
      }

      /* small utility improvements for header contrast */
      header {
        -webkit-backdrop-filter: blur(6px);
        backdrop-filter: blur(6px);
        background: rgba(255, 255, 255, 0.9);
      }
      .rounded-b-3xl {
        border-bottom-left-radius: 28px;
        border-bottom-right-radius: 28px;
      }

      /* small fade-in util */
      .animate-fade-in {
        opacity: 0;
        transform: translateY(6px);
        transition: all 600ms ease;
      }
      .animate-fade-in-up {
        opacity: 0;
        transform: translateY(10px);
        transition: all 700ms ease;
      }
      .animate-fade-in.show,
      .animate-fade-in-up.show {
        opacity: 1;
        transform: translateY(0);
      }
    </style>
  </head>

  <body
    class="bg-gradient-to-br from-green-50 to-green-200 min-h-screen font-sans text-gray-800"
  >
    <!-- PRELOADER -->
    <div
      id="preloader"
      role="status"
      aria-live="polite"
      aria-label="Loading AgriVerse"
    >
      <div class="preloader-wrap">
        <!-- ring + pulse behind -->
        <div class="ring" aria-hidden="true"></div>
        <div class="leaf-pulse" aria-hidden="true" style="top: -18vh"></div>

        <!-- Cinematic Title -->
        <div class="agri-title" aria-hidden="false">
          <!-- leaf svg (inline) -->
          <svg
            class="leaf"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            aria-hidden="true"
          >
            <path
              d="M3 12c5-8 14-10 18-10-4 4-3 12-12 17-4-2-6-6-6-7z"
              fill="url(#g)"
            />
            <defs>
              <linearGradient id="g" x1="0" x2="1">
                <stop offset="0" stop-color="#bbf7d0" />
                <stop offset="1" stop-color="#16a34a" />
              </linearGradient>
            </defs>
          </svg>

          <!-- letters will be injected by JS as <span class="char"> -->
          <div
            id="agri-text"
            style="display: flex; gap: 6px; align-items: center"
          ></div>
        </div>

        <div class="preloader-spinner" aria-hidden="true"></div>
        <div
          style="
            margin-top: 8px;
            color: rgba(255, 255, 255, 0.85);
            font-weight: 600;
            font-size: 14px;
          "
        >
          Powering farmer advisory — AgriVerse
        </div>
      </div>
    </div>

    <!-- MAIN PAGE (hidden behind preloader until ready) -->
    <div id="main-page" class="page-reveal" aria-hidden="true">
      <!-- Header -->
      <header
        class="flex flex-col md:flex-row justify-between items-center px-6 md:px-12 py-6 md:py-8 shadow-lg z-20 relative"
        role="banner"
      >
        <div class="flex items-center space-x-3 mb-4 md:mb-0">
          <img
            src="images/logo.jpeg"
            alt="AgriVerse logo"
            class="h-10 w-10 rounded-md object-cover"
          />
          <div>
            <div class="text-xl font-extrabold text-emerald-800 leading-none">
              AgriVerse
            </div>
            <div class="text-xs text-emerald-600 -mt-1">AI Farmer Advisory</div>
          </div>
        </div>

        <nav class="space-x-2" role="navigation" aria-label="Main Navigation">
          <a
            href="#"
            class="text-emerald-700 font-semibold px-4 py-2 rounded-full hover:bg-emerald-50 transition"
            >Sign Up</a
          >
          <a
            href="#"
            class="text-emerald-700 font-semibold px-4 py-2 rounded-full hover:bg-emerald-50 transition"
            >Login</a
          >
        </nav>
      </header>

      <!-- Hero -->
      <section
        class="relative flex flex-col md:flex-row items-center justify-between min-h-[340px] md:min-h-[420px] bg-cover bg-center rounded-b-3xl overflow-hidden -mt-8 md:mt-[-40px]"
        style="
          background-image: linear-gradient(
              to top right,
              rgba(4, 20, 10, 0.12),
              rgba(22, 163, 74, 0.04)
            ),
            url('images/farm-bg.jpeg');
        "
      >
        <div
          class="absolute inset-0 bg-gradient-to-t from-green-800/60 to-transparent"
          aria-hidden="true"
        ></div>

        <div
          class="relative z-10 flex flex-col md:flex-row items-center justify-between w-full max-w-5xl mx-auto px-4 md:px-0 py-12"
        >
          <div
            class="flex flex-col items-center md:items-start md:w-1/2 animate-fade-in show"
          >
            <img
              src="images/farmer1.jpeg"
              alt="Farmer"
              class="mb-4 h-40 md:h-56 object-cover rounded-xl shadow-lg w-full md:w-auto"
            />
          </div>

          <div
            class="flex flex-col items-center md:items-start md:w-1/2 animate-fade-in-up show"
          >
            <h1 class="text-3xl md:text-4xl font-extrabold text-white mb-4">
              Ask your farming questions — get actionable AI advice
            </h1>
            <form
              class="w-full flex flex-col sm:flex-row items-center justify-center md:justify-start gap-2"
              onsubmit="return false;"
            >
              <input
                type="text"
                placeholder="Type your question here..."
                class="px-6 py-3 rounded-full w-full sm:w-80 md:w-96 focus:outline-none text-lg shadow bg-white/90 placeholder-gray-500 border border-green-300"
              />
              <button
                type="submit"
                class="bg-emerald-700 text-white px-6 py-3 rounded-full font-semibold text-lg hover:bg-emerald-800 shadow w-full sm:w-auto transition"
              >
                🔍
              </button>
            </form>
          </div>
        </div>
      </section>

      <!-- Features -->
      <section class="flex flex-wrap justify-center gap-8 mt-12 mb-12 px-4">
        <div
          class="bg-green-300 rounded-xl shadow-lg p-8 w-72 text-center transform hover:scale-105 transition duration-300"
        >
          <img
            src="images/logo.jpeg"
            alt="Crop Health"
            class="h-16 w-16 mb-4 mx-auto"
          />
          <h2 class="font-bold text-xl mb-2">Crop Health Monitoring</h2>
          <p class="text-gray-600 mb-4">
            Real-time crop health signals and fertilizer suggestions.
          </p>
          <button
            class="bg-emerald-700 text-white px-6 py-2 rounded-full font-semibold hover:bg-emerald-800 transition"
          >
            Learn More
          </button>
        </div>

        <div
          class="bg-white rounded-xl shadow-lg p-8 w-72 text-center transform hover:scale-105 transition duration-300"
        >
          <img
            src="images/logo.jpeg"
            alt="Pest Detection"
            class="h-16 w-16 mb-4 mx-auto"
          />
          <h2 class="font-bold text-xl mb-2">Pest & Disease Detection</h2>
          <p class="text-gray-600 mb-4">
            Image-based pest alerts and step-by-step remedies.
          </p>
          <button
            class="bg-emerald-700 text-white px-6 py-2 rounded-full font-semibold hover:bg-emerald-800 transition"
          >
            Learn More
          </button>
        </div>

        <div
          class="bg-white rounded-xl shadow-lg p-8 w-72 text-center transform hover:scale-105 transition duration-300"
        >
          <img
            src="images/logo.jpeg"
            alt="Market Price"
            class="h-16 w-16 mb-4 mx-auto"
          />
          <h2 class="font-bold text-xl mb-2">Market Price Analysis</h2>
          <p class="text-gray-600 mb-4">
            Get the best time and place to sell your crop.
          </p>
          <button
            class="bg-emerald-700 text-white px-6 py-2 rounded-full font-semibold hover:bg-emerald-800 transition"
          >
            Learn More
          </button>
        </div>
      </section>

      <!-- Testimonials -->
      <section class="max-w-2xl mx-auto mb-16 px-4">
        <div class="bg-white rounded-xl shadow-lg p-8 text-center relative">
          <div id="carousel" class="transition-all duration-500">
            <div class="carousel-item">
              <img
                src="images/farmer1.jpeg"
                alt="Testimonial"
                class="mx-auto rounded-full h-20 w-20 mb-4 object-cover"
              />
              <h3 class="font-bold text-lg mb-2">Testimonial</h3>
              <p class="text-gray-600 mb-4">
                "Euge perment alio un umnat system robust and helpful!"
              </p>
            </div>
            <div class="carousel-item hidden">
              <img
                src="images/farmer2.jpeg"
                alt="Testimonial"
                class="mx-auto rounded-full h-20 w-20 mb-4 object-cover"
              />
              <h3 class="font-bold text-lg mb-2">Testimonial</h3>
              <p class="text-gray-600 mb-4">
                "Great support and easy to use. Helped me improve my crop
                yield!"
              </p>
            </div>
            <div class="carousel-item hidden">
              <img
                src="images/farmer3.jpeg"
                alt="Testimonial"
                class="mx-auto rounded-full h-20 w-20 mb-4 object-cover"
              />
              <h3 class="font-bold text-lg mb-2">Testimonial</h3>
              <p class="text-gray-600 mb-4">
                "Market price analysis is very accurate and timely."
              </p>
            </div>
          </div>
          <div class="flex justify-center mt-4 space-x-2">
            <button
              class="carousel-dot w-3 h-3 rounded-full bg-green-400"
              onclick="showSlide(0)"
            ></button>
            <button
              class="carousel-dot w-3 h-3 rounded-full bg-green-200"
              onclick="showSlide(1)"
            ></button>
            <button
              class="carousel-dot w-3 h-3 rounded-full bg-green-200"
              onclick="showSlide(2)"
            ></button>
          </div>
        </div>
      </section>

      <!-- Footer -->
      <footer
        class="bg-white py-6 px-6 md:px-10 flex flex-col md:flex-row justify-between items-center shadow-inner"
      >
        <div class="text-gray-600 space-x-4 mb-4 md:mb-0">
          <a href="#" class="hover:underline">About Us</a>
          <a href="#" class="hover:underline">Contact</a>
          <a href="#" class="hover:underline">Privacy Policy</a>
        </div>

        <div class="flex space-x-4">
          <a href="#" class="text-emerald-600" title="Instagram"
            ><img src="images/instagram.png" alt="Instagram" class="h-6 w-6"
          /></a>
          <a href="#" class="text-emerald-600" title="Facebook"
            ><img src="images/facebook.png" alt="Facebook" class="h-6 w-6"
          /></a>
          <a href="#" class="text-emerald-600" title="Twitter"
            ><img src="images/twitter.png" alt="Twitter" class="h-6 w-6"
          /></a>
        </div>
      </footer>
    </div>

    <!-- SCRIPTS -->
    <script>
      // ---------------- Preloader logic ----------------
      (function () {
        const PRELOAD_MIN = 1500; // minimum time to show in ms for cinematic feel
        const preloader = document.getElementById("preloader");
        const main = document.getElementById("main-page");
        const agriTextContainer = document.getElementById("agri-text");
        const title = "AGRIVERSE"; // text to animate
        const prefersReduced = window.matchMedia(
          "(prefers-reduced-motion: reduce)"
        ).matches;

        // create spans for each character
        function buildTitle() {
          agriTextContainer.innerHTML = "";
          for (let i = 0; i < title.length; i++) {
            const ch = title[i];
            const span = document.createElement("span");
            span.className =
              "char" +
              (ch !== " " && (i === 0 || i === title.length - 1 || i % 2 === 0)
                ? " glow"
                : "");
            span.textContent = ch;
            // stagger delay via CSS animationDelay set by JS
            span.style.animationDelay = i * 90 + "ms";
            agriTextContainer.appendChild(span);
          }
        }

        // show preloader and animate
        function showPreloader() {
          preloader.classList.remove("preloader-hidden");
          // force reflow before adding show class
          void preloader.offsetWidth;
          const agriTitle = document.querySelector(".agri-title");
          agriTitle.classList.add("show");
        }

        // hide preloader and reveal page
        function hidePreloader() {
          // add hidden class for fade
          preloader.classList.add("preloader-hidden");
          // reveal main page with slight delay to allow nice transition
          setTimeout(() => {
            main.setAttribute("aria-hidden", "false");
            main.classList.add("show");
          }, 100);
        }

        // init
        buildTitle();
        if (prefersReduced) {
          // if reduced motion, skip long animations
          // show preloader briefly then hide quickly
          showPreloader();
          setTimeout(() => {
            hidePreloader();
          }, 300);
        } else {
          showPreloader();
          // Wait for window load or fallback timeout
          const start = Date.now();
          window.addEventListener("load", () => {
            const elapsed = Date.now() - start;
            const remaining = Math.max(0, PRELOAD_MIN - elapsed);
            setTimeout(hidePreloader, remaining + 180); // small buffer
          });

          // safety fallback in case 'load' doesn't fire
          setTimeout(() => {
            if (!preloader.classList.contains("preloader-hidden"))
              hidePreloader();
          }, 4000);
        }

        // intercept same-origin link clicks to show cinematic preloader on navigation
        document.addEventListener("click", (e) => {
          const a = e.target.closest("a");
          if (!a) return;
          const href = a.getAttribute("href");
          if (
            !href ||
            href.startsWith("#") ||
            href.startsWith("mailto:") ||
            href.startsWith("tel:")
          )
            return;
          const url = new URL(href, location.href);
          // only for same-origin and same-protocol links
          if (url.origin === location.origin) {
            // show preloader then allow navigation
            e.preventDefault();
            showPreloader();
            setTimeout(() => {
              location.href = url.href;
            }, 450); // short cinematic delay
          }
        });
      })();

      // ---------------- Carousel (unchanged logic improved) -------------
      (function () {
        const items = document.querySelectorAll(".carousel-item");
        const dots = document.querySelectorAll(".carousel-dot");
        let current = 0;
        function showSlide(idx) {
          items.forEach((item, i) => {
            item.classList.toggle("hidden", i !== idx);
            dots[i].classList.toggle("bg-green-400", i === idx);
            dots[i].classList.toggle("bg-green-200", i !== idx);
          });
          current = idx;
        }
        setInterval(() => showSlide((current + 1) % items.length), 5000);
        window.showSlide = showSlide;
        showSlide(0);
      })();

      // ---------------- On DOM ready, reveal small UI animations -------------
      document.addEventListener("DOMContentLoaded", () => {
        document
          .querySelectorAll(".animate-fade-in, .animate-fade-in-up")
          .forEach((el, i) => {
            setTimeout(() => el.classList.add("show"), 120 + i * 80);
          });
      });
    </script>
  </body>
</html>
